import pyfirmata
import discord
from discord.ext import commands
import time
from cv2 import *
import simpleaudio as sa





board = pyfirmata.Arduino('COM3')

Bot=discord.Client()
Bot= commands.Bot(command_prefix="/")

#main:programme
@Bot.event
async def on_ready():
    print("Cool")
    await Bot.change_presence(status=discord.Status.online,activity=discord.Game("with lights"))
@Bot.command(pass_context=True)
async def on(ctx, led):
    if led=="yellow":
        board.digital[10].write(1)
        cam = VideoCapture(0, CAP_DSHOW)
        s, img = cam.read()
        imwrite("filename.jpg",img)
        await ctx.send(file=discord.File(r'filename.jpg'))
    if led=="blue":
        board.digital[11].write(1)
        cam = VideoCapture(0, CAP_DSHOW)
        s, img = cam.read()
        imwrite("filename.jpg",img)
        await ctx.send(file=discord.File(r'filename.jpg'))
    if led=="all":
            board.digital[10].write(1)
            board.digital[11].write(1)
            cam = VideoCapture(0, CAP_DSHOW)
            s, img = cam.read()
            imwrite("filename.jpg",img)
            await ctx.send(file=discord.File(r'filename.jpg'))
    else:
        await ctx.send("There is no {} led".format(led))
    await ctx.send("On ðŸ’¡")
@Bot.command(pass_context=True) 
async def off(ctx, led):
    if led=="yellow":
        board.digital[10].write(0)
        cam = VideoCapture(0, CAP_DSHOW)
        s, img = cam.read()
        imwrite("filename.jpg",img)
        await ctx.send(file=discord.File(r'filename.jpg'))
    if led=="blue":
        board.digital[11].write(0)
        cam = VideoCapture(0, CAP_DSHOW)
        s, img = cam.read()
        imwrite("filename.jpg",img)
        await ctx.send(file=discord.File(r'filename.jpg'))
    if led=="all":
            board.digital[10].write(0)
            board.digital[11].write(0)
            cam = VideoCapture(0, CAP_DSHOW)
            s, img = cam.read()
            imwrite("filename.jpg",img)
            await ctx.send(file=discord.File(r'filename.jpg'))
    else:
        await ctx.send("There is no {} led".format(led))
    await ctx.send("Off ðŸ’¡")
@Bot.command(pass_context=True)
async def fiesta(ctx):
            filename = 'A.wav'
            wave_obj = sa.WaveObject.from_wave_file(filename)
            play_obj = wave_obj.play()
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            time.sleep(0.5)
            board.digital[10].write(1)
            time.sleep(0.5)
            board.digital[11].write(1)
            time.sleep(0.5)
            board.digital[10].write(0)
            time.sleep(0.5)
            board.digital[11].write(0)
            play_obj.wait_done()
            await ctx.send("Fiesta !!!")
TOKEN="Nzc3OTIzNjc3NDUwNzk3MDg4.X7Kf4Q.s2Q695WrcH75EnOHdBQBs059NHU"
Bot.run(TOKEN)
